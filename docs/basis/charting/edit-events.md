# 处理事件

在本页，您将会学习如何放置以及编辑判定线事件

将鼠标移动至编辑窗口右半侧，这里是编辑事件的区域

如同放置 Hold 一样在事件的开始位置按下 R 键，移动鼠标到结束位置，再次按 下 R 键，即放置了一个事件。与 Hold 同样的，ESC 键可以终止这一过程

稍微不同的是，同层同类事件原则上不允许重叠，若移动鼠标时事件重叠，则其会变为红色且无法放置

![事件重叠演示](/assets/img/content/事件重叠演示.avif)

事件编辑窗口有五栏，从左到右对应着五种普通事件 MoveX，MoveY，Rotate，Alpha，Speed（关于事件对应的效果，详见[事件](../inside-chart/event.md)）

![五种事件演示](/assets/img/content/五种事件演示.avif)

如果谱面开启了 XY 绑定，那么对 MoveX / Y 的放置、时间编辑、删除、切割等**均会同时作用在一个与它时间相等（开始时间与结束时间均相同）的 MoveY / X 上，这是为了方便保持谱面的*等时性质***

放置一个事件后，该事件的**头部和缓动类型会自动继承时间上的上一个该类事件的尾部和缓动类型**，且尾部与头部相同。软件会帮你自动选择新放置的事件，进入事件编辑

![编辑事件演示](/assets/img/content/编辑事件演示.avif)

这些文本框的含义与前文一致，缓动类型右侧偏白的下拉列表可以点击显示选项，数字文本框与两个下拉列表的组合是关联的，该缓动类型所对应的曲线会在下方实时展示。一般来说，编号更大的曲线会更加陡峭

点击删除或按下 Delete 或按下 D 键和鼠标右键来删除事件，点击取消可以还原掉未保存的编辑，点击保存或按 Enter 键可以保存编辑，点击箭头或 ESC 键可以退出编辑

::: warning
速度事件缓动类型只能为 1（linear），不可编辑
:::

为了方便编辑，选中事件后，按下 A 键，S 键，以及 CTRL 键和鼠标滚轮都可能有快捷效果

- 对于 MoveX/Y，Rotate，Speed 事件，按下 A 键会使头尾部值变为原来的相反数

- 对于 Alpha 事件，按下 A 键会使尾部变为 $0$，按下 S 键会使尾部变为 $255$

- 对于所有事件，按住 CTRL 键并使用鼠标滚轮，可以使事件的尾部数据发生微调（以默认设置参数为例，一次滚动会使 MoveX / Y，Alpha 尾部 $±10$，使 Rotate 尾部 $±0.25$，使 Speed 尾部 $±0.1$）

对任意勾定事件（瞬时事件），在编辑时，对头 / 尾部数据的更改会即刻反 应到尾 / 头部上

**快捷编辑**：

- **粘合**：点击后将上一个该种类事件的尾部填入其头部

- **切割**：选择事件并点击 **切割** 后，如果全局时间最近的横线不在该事件控制的时间范围内，则会自动选定事件头部时间开始切割，否则会以全局时间最近的横线为中心沿时间前后切割事件，切割的间距为 $\frac{横线距离}{切割密度}$（可在设置中调整，详见 设置界面 （未撰写））。如果开启了 XY 绑定，则切割 MoveX / Y 事件会导致相同时间的 MoveY / X 事件的切割

![切割演示](/assets/img/content/切割演示.avif)

- **随机**：在尾部随机填入数值

- **递推**：根据上两个事件推出这个事件的头部和尾部，比如上两个事件是 $0 → 50$，$50 → 100$，递推得到的就是 $100 → 150$

- **拆分**：可以从当前时间将选中的事件切成两个，两个事件变化程度按时间分配，缓动类型与原事件相同。

比如 $1$ ~ $4$ 拍的 $0 → 150$ 的事件，缓动为 4。从 $2$ 拍切开变成 $1$ ~ $2$ 拍，$0 → 50$，缓动为 4；$2$ ~ $4$ 拍，$50 → 150$，缓动为 4 的两个事件

时间可以用小数转义，比如横线数为 4，填入 12.1 表示 $12\frac{1}{4}$，12.2 表示 $12\frac{2}{4} = 12\frac{1}{2}$

缓动可以设置左右端点，该事件将以左右端点框出的曲线段作为实际的缓动曲线，如下图

![缓动设置左右端点演示](/assets/img/content/缓动设置左右端点演示.avif)