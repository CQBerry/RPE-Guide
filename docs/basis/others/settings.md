---
prev: ./
next: ../../advanced/chart-correction
---

# 🌟 设置界面

在本页您将会了解设置界面的组成以及内容。

点击工具栏左上角的齿轮图标打开设置界面。

![设置界面](/assets/imgs/contents/设置界面.avif)

## 快捷操作

- 保存谱面：可以保存谱面内容（或者使用 `CTRL+S`）。
- 播放谱面：打开一个独立的预览窗口 `View`，用此播放的是编辑器内的实时内容，而不是最后一次保存的内容，按下空格开始播放，之后空格可以暂停
  / 继续。

![播放谱面](/assets/imgs/contents/播放谱面.avif)

- 导出为旧 pec：生成一个打包好的 zip 文件，其内谱面文件（`.pec`）为 PhiEditer 格式，包含音乐和曲绘。

::: warning
如果破坏了谱面等时属性，则无法导出。可以尝试根据谱面纠错 Caution: separated MoveX / MoveY Event 进行补全，或者使用
PEConverter 对导出的 `json` 文件进行转换。
:::

## 具体条目

### 常规

![常规](/assets/imgs/contents/常规.avif)

- 音乐音量：顾名思义，调整音乐的音量。
- 音效音量：调整打击音效的音量。
- 高亮等时音符：判定时间相等的音符会被高亮，俗称多押辅助（RPE 未对 Hold 音符进行适配）。音符的高亮度并不会实时刷新，需要点击刷新高亮度按钮（或重启
  RPE）来重置所有高亮度。

![高亮等时音符](/assets/imgs/contents/高亮等时音符.avif)

- 窗口大小：调整窗口大小，可填入一个正数 $n$（$n \leq 1$），且窗口大小永远等比于 $1920 : 1080$。
- 音符宽度：调整音符的宽度，单位为像素。
- 判定线默认宽度：沿 Y 轴的放缩倍率（值越大，线越粗）。

![判定线默认宽度](/assets/imgs/contents/判定线默认宽度.avif)

- 标注判定线数字：播放界面显示线号。

![标注判定线数字](/assets/imgs/contents/标注判定线数字.avif)

- 判定线默认颜色：RGB 颜色值，若该线上有任何颜色渐变事件（关于颜色事件，请参阅 [特殊事件](../../advanced/special-events.md)
  ），则判定线默认颜色会被忽略。

![判定线默认颜色示](/assets/imgs/contents/判定线默认颜色.avif)

- 实时背景透明度倍率：播放窗口和预览窗口的背景图片亮度，可填入正整数 $n$（$n \leq 255$）。

![实时背景透明度倍率](/assets/imgs/contents/实时背景透明度倍率.avif)

::: tip
在现行版本中，这个选项实际控制的是背景亮度，但软件中显示是实时背景透明度倍率，我未对其进行更名。
:::

- 打击音延迟：音符被打击和发出音效的时间差，Tap / Flick 和 Drag 音符的设置是分开的。

::: tip
对于所有具体设置条目：点击取消会还原掉未保存的编辑，点击确认保存编辑，下面将不再赘述。
:::

### 热键

![热键](/assets/imgs/contents/热键.avif)

热键的左侧中文指的是热键的大概作用，右侧是热键的内容以及一个淡紫色按钮，下方的按钮可以用于翻页。

热键的编辑分为手动填入和辅助填入：

- 手动填入：以 `&` 符号分割，支持所有字母以及一些符号，要求全英文大写。
- 辅助填入：点击右侧的淡紫色按钮，按钮变绿，此时在键盘上的输入都会直接填入这个热键文本框中。按下 Backspace 键会删除这个文本框中的最后一个键。

与 Windows 等的热键相同，判断是否执行**不需要满足顺序**，只要某一时刻同时按下其所有所属键即可。

::: tip
特别地，对于按住播放松开停止此类型的快捷键，任意一个键位不被按下都会导致播放被停止。
:::

若热键间互相包含，则在某些情况下文本框会标为红色，其他情况下标为黄色：

- 预按键与其他所有键包含：黄色。
- 放置事件和放置 Hold 音符间的包含：黄色。

但如果放置 Tap 音符和放置 Drag 音符的热键都被设置为某一按键，则这两项的文本框都会被标为红色。

![热键冲突](/assets/imgs/contents/热键冲突.avif)

::: warning
文本框被标为红色的情况**不止上面一种**，被标为红色后**应根据情况进行修改**。
:::

热键储存在 `[RPE 目录]/Hotkey.txt` 中，可复制以备份。

### 其他

![其他](/assets/imgs/contents/其他.avif)

- 自动保存：开启后，在该谱面文件夹下会出现显著标有保存时刻的自动保存文件。

![自动保存](/assets/imgs/contents/自动保存.avif)

- 鼠标滚轮速度：调整使用鼠标滚轮时对全局时间的调整速率。
- 事件微调速度：调整按下 `CTRL` 键并使用鼠标滚轮对事件的微调速率。
- 实时背景透明度倍率：开启实时预览（请参阅 [工具栏](../UI/tools-bar.md)）时播放窗口的透明化程度，0 表示完全透明（背景完全显示），1
  表示完全不透明（背景完全不显示，显示为黑色）。

![实时背景透明度倍率调整为 1](/assets/imgs/contents/实时背景透明度倍率调整为1.avif)

- 预览窗口大小：预览窗口 `View` 的分辨率大小，可以为任何比例。
- 自动保存部分编辑：开启会使得对音符和事件的单个编辑不需要点击保存或者 Enter 就可以实时保存，但对音符和事件的单个编辑将**
  无法被撤销或还原**。
- 自动移入剪切板：开启后多选音符或者事件会自动移入剪切板中（自动 `CTRL+C`）。
- 开启 Tips：控制状态栏右侧的 Tips。
- 保持 XY 事件绑定：开启后，对 MoveX/Y 事件的放置、时间编辑、删除、切割等均会同时作用在一个与它时间相等（开始时间与结束时间均相同）的
  MoveY/X 事件上，这是为了方便保持谱面的等时性质。

若关闭，则 MoveX 和 MoveY 事件不会产生关联，能够放置不同时的 XY 事件，此时纠错指示器的第二条线会变为黄色。

![关闭保持 XY 事件绑定](/assets/imgs/contents/关闭保持XY事件绑定.avif)

在该情况下，放置一组不同时的 MoveX 和 MoveY 事件，则会破坏谱面的等时属性（即 MoveX 和 MoveY 的时间一一对应），纠错指示器的第二条线会变为红色。

![一组不等时的 MoveX 和 MoveY 事件](/assets/imgs/contents/一组不等时的MoveX和MoveY事件.avif)

同时设置中的保持 XY 绑定选项将无法勾选。

![保持 XY 事件绑定无法勾选](/assets/imgs/contents/保持XY事件绑定无法勾选.avif)

如果删除掉不同时的 MoveX 和 MoveY 事件，纠错指示器的第二条线会重新变为黄色，代表谱面恢复了等时属性，此时可以勾选保持 XY
绑定，线会重新变为绿色。

::: danger
无论怎样，你不应该关闭保持 XY 事件绑定选项，这很容易破坏谱面的等时属性。如果破坏了等时属性，则会带来种种问题，包括但不限于**
无法导出为旧 `pec` 格式**等。
:::

- 撤回与重做时自动跳转：开启后，在撤销或重做时全局时间和视野平移（请参阅 [工具栏](../UI/tools-bar.md)）会自动跳到发生改变的位置。
- 编辑事件自动后粘合：开启后，对事件的编辑会使得该种类的下一个事件执行一次粘合，但是如果下一个事件是钩定事件，则不会执行粘合。
- 切割密度 / 横线：事件切割的密度，密度越大切割后的效果越好（如果数字过大可能会导致卡顿）。
- 绘制事件曲线：关闭后，非勾定事件上会显示该事件的缓动曲线。同时，对于所有事件，将不再显示事件数字（即便显示事件数字是开启的）。

![关闭绘制事件曲线](/assets/imgs/contents/关闭绘制事件曲线.avif)

- 显示事件数字：关闭后，事件的首尾将不再显示该事件的头部数值和尾部数值。

![关闭显示事件数字](/assets/imgs/contents/关闭显示事件数字.avif)

### 纠错相关（待考究与修缮）

![纠错相关](/assets/imgs/contents/纠错相关.avif)

在这里可以调整谱面纠错用到的一些阈值（关于这些值的具体影响，我们将在 [谱面纠错](../../advanced/chart-correction.md) 中讲到）。

::: tip
这一部分较为复杂，涉及部分错误的判定原理，看不太懂是很正常的。
:::

- X 大小阈值：当音符的 $X$ 坐标绝对值超过该设置项时，则会报错：Caution: X Too Large。
- 碰撞距离：当两个等时的音符 $X$ 坐标不满足 $|X_1 - X_2| \geq 碰撞距离$ 时，则会报错：Error: Tap&Hold / Tap&Tap / Hold&Hold
  Overlapped。

Hold 音符比较特殊，一个 Hold 音符如果包含另一个音符（这个 Hold 音符的起始时间和结束时间之间与另一个音符的起始时间（和结束时间）存在交集），则该情况同样适用上面的判定公式。

如果两个 Hold 音符首尾相连（或交叉）时，也会报错：Error: Hold&Hold Overlapped 和 Caution: Hold Sticked?。

![碰撞距离 1](/assets/imgs/contents/碰撞距离1.avif)

![碰撞距离 2](/assets/imgs/contents/碰撞距离2.avif)

- 读谱时间下界（单位为秒）：当一个音符从它在可视屏幕中出现到它被判定，时间小于该设置项时，则会报错：Caution: Short Readtime(
  $n$ ms）。
- Drag 警告距离（单位为秒）：关于该设置项的作用，目前待考究中。
- 组合时间上界（单位为秒）：关于该设置项的作用，目前待考究中。

::: danger
一般情况下，不建议修改这里的任何设置项，可能会影响谱面质量。修改前一定要三思而后行！
:::

### 关于

![关于](/assets/imgs/contents/关于.avif)

在这里可以查看 RPE 版本以及作者等信息。
